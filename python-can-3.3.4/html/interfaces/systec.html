
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>SYSTEC interface &#8212; python-can 3.3.4 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Scripts" href="../scripts.html" />
    <link rel="prev" title="CANalyst-II" href="canalystii.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../scripts.html" title="Scripts"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="canalystii.html" title="CANalyst-II"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">python-can 3.3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../interfaces.html" accesskey="U">CAN Interface Modules</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SYSTEC interface</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="systec-interface">
<span id="systec"></span><h1>SYSTEC interface<a class="headerlink" href="#systec-interface" title="Permalink to this heading">¶</a></h1>
<p>Windows interface for the USBCAN devices supporting up to 2 channels based on the
particular product. There is support for the devices also on Linux through the <a class="reference internal" href="socketcan.html"><span class="doc">SocketCAN</span></a> interface and for Windows using this
<code class="docutils literal notranslate"><span class="pre">systec</span></code> interface.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h2>
<p>The interface requires installation of the <strong>USBCAN32.dll</strong> library. Download and install the
driver for specific <a class="reference external" href="https://www.systec-electronic.com/en/products/">SYSTEC</a> device.</p>
</section>
<section id="supported-devices">
<h2>Supported devices<a class="headerlink" href="#supported-devices" title="Permalink to this heading">¶</a></h2>
<p>The interface supports following devices:</p>
<ul class="simple">
<li><p>GW-001 (obsolete),</p></li>
<li><p>GW-002 (obsolete),</p></li>
<li><p>Multiport CAN-to-USB G3,</p></li>
<li><p>USB-CANmodul1 G3,</p></li>
<li><p>USB-CANmodul2 G3,</p></li>
<li><p>USB-CANmodul8 G3,</p></li>
<li><p>USB-CANmodul16 G3,</p></li>
<li><p>USB-CANmodul1 G4,</p></li>
<li><p>USB-CANmodul2 G4.</p></li>
</ul>
</section>
<section id="bus">
<h2>Bus<a class="headerlink" href="#bus" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="can.interfaces.systec.ucanbus.UcanBus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">can.interfaces.systec.ucanbus.</span></span><span class="sig-name descname"><span class="pre">UcanBus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_filters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/can/interfaces/systec/ucanbus.html#UcanBus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#can.interfaces.systec.ucanbus.UcanBus" title="Permalink to this definition">¶</a></dt>
<dd><p>The CAN Bus implemented for the SYSTEC interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The Channel id to create this bus with.</p></li>
<li><p><strong>can_filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a>) – See <a class="reference internal" href="../bus.html#can.BusABC.set_filters" title="can.BusABC.set_filters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">can.BusABC.set_filters()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p>Backend Configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bitrate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Channel bitrate in bit/s.
Default is 500000.</p></li>
<li><p><strong>device_number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The device number of the USB-CAN.
Valid values: 0 through 254. Special value 255 is reserved to detect the first connected device (should only
be used, in case only one module is connected to the computer).
Default is 255.</p></li>
<li><p><strong>state</strong> (<em>can.bus.BusState</em>) – BusState of the channel.
Default is ACTIVE.</p></li>
<li><p><strong>receive_own_messages</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – If messages transmitted should also be received back.
Default is False.</p></li>
<li><p><strong>rx_buffer_entries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The maximum number of entries in the receive buffer.
Default is 4096.</p></li>
<li><p><strong>tx_buffer_entries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The maximum number of entries in the transmit buffer.
Default is 4096.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – If invalid input parameter were passed.</p></li>
<li><p><a class="reference internal" href="../api.html#can.CanError" title="can.CanError"><strong>can.CanError</strong></a> – If hardware or CAN interface initialization failed.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="can.interfaces.systec.ucanbus.UcanBus.create_filter">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extended</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rtr_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rtr_too</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/can/interfaces/systec/ucanbus.html#UcanBus.create_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#can.interfaces.systec.ucanbus.UcanBus.create_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates AMR and ACR using CAN-ID as parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extended</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – if True parameters from_id and to_id contains 29-bit CAN-ID</p></li>
<li><p><strong>from_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – first CAN-ID which should be received</p></li>
<li><p><strong>to_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – last CAN-ID which should be received</p></li>
<li><p><strong>rtr_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – if True only RTR-Messages should be received, and rtr_too will be ignored</p></li>
<li><p><strong>rtr_too</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – if True CAN data frames and RTR-Messages should be received</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns list with one filter containing a “can_id”, a “can_mask” and “extended” key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="can.interfaces.systec.ucanbus.UcanBus.flush_tx_buffer">
<span class="sig-name descname"><span class="pre">flush_tx_buffer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/can/interfaces/systec/ucanbus.html#UcanBus.flush_tx_buffer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#can.interfaces.systec.ucanbus.UcanBus.flush_tx_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the transmit buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api.html#can.CanError" title="can.CanError"><strong>can.CanError</strong></a> – If flushing of the transmit buffer failed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="can.interfaces.systec.ucanbus.UcanBus.send">
<span class="sig-name descname"><span class="pre">send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/can/interfaces/systec/ucanbus.html#UcanBus.send"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#can.interfaces.systec.ucanbus.UcanBus.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends one CAN message.</p>
<p>When a transmission timeout is set the firmware tries to send
a message within this timeout. If it could not be sent the firmware sets
the “auto delete” state. Within this state all transmit CAN messages for
this channel will be deleted automatically for not blocking the other channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<a class="reference internal" href="../message.html#can.Message" title="can.Message"><em>can.Message</em></a>) – The CAN message.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – Transmit timeout in seconds (value 0 switches off the “auto delete”)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../api.html#can.CanError" title="can.CanError"><strong>can.CanError</strong></a> – If the message could not be sent.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="can.interfaces.systec.ucanbus.UcanBus.shutdown">
<span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/can/interfaces/systec/ucanbus.html#UcanBus.shutdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#can.interfaces.systec.ucanbus.UcanBus.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Shuts down all CAN interfaces and hardware interface.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="can.interfaces.systec.ucanbus.UcanBus.state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">state</span></span><a class="headerlink" href="#can.interfaces.systec.ucanbus.UcanBus.state" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current state of the hardware</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>can.BusState</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h2>
<p>The simplest configuration would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span> <span class="o">=</span> <span class="n">systec</span>
<span class="n">channel</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Python-can will search for the first device found if not specified explicitly by the
<code class="docutils literal notranslate"><span class="pre">device_number</span></code> parameter. The <code class="docutils literal notranslate"><span class="pre">interface</span></code> and <code class="docutils literal notranslate"><span class="pre">channel</span></code> are the only mandatory
parameters. The interface supports two channels 0 and 1. The maximum number of entries in the receive and transmit buffer can be set by the
parameters <code class="docutils literal notranslate"><span class="pre">rx_buffer_entries</span></code> and <code class="docutils literal notranslate"><span class="pre">tx_buffer_entries</span></code>, with default value 4096
set for both.</p>
<p>Optional parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bitrate</span></code> (default 500000) Channel bitrate in bit/s</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">device_number</span></code> (default first device) The device number of the USB-CAN</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rx_buffer_entries</span></code> (default 4096) The maximum number of entries in the receive buffer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tx_buffer_entries</span></code> (default 4096) The maximum number of entries in the transmit buffer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">state</span></code> (default BusState.ACTIVE) BusState of the channel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">receive_own_messages</span></code> (default False) If messages transmitted should also be received back</p></li>
</ul>
</section>
<section id="internals">
<h2>Internals<a class="headerlink" href="#internals" title="Permalink to this heading">¶</a></h2>
<section id="message-filtering">
<h3>Message filtering<a class="headerlink" href="#message-filtering" title="Permalink to this heading">¶</a></h3>
<p>The interface and driver supports only setting of one filter per channel. If one filter
is requested, this is will be handled by the driver itself. If more than one filter is
needed, these will be handled in Python code in the <code class="docutils literal notranslate"><span class="pre">recv</span></code> method. If a message does
not match any of the filters, <code class="docutils literal notranslate"><span class="pre">recv()</span></code> will return None.</p>
</section>
<section id="periodic-tasks">
<h3>Periodic tasks<a class="headerlink" href="#periodic-tasks" title="Permalink to this heading">¶</a></h3>
<p>The driver supports periodic message sending but without the possibility to set
the interval between messages. Therefore the handling of the periodic messages is done
by the interface using the <code class="xref py py-class docutils literal notranslate"><span class="pre">ThreadBasedCyclicSendTask</span></code>.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">SYSTEC interface</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#supported-devices">Supported devices</a></li>
<li><a class="reference internal" href="#bus">Bus</a><ul>
<li><a class="reference internal" href="#can.interfaces.systec.ucanbus.UcanBus"><code class="docutils literal notranslate"><span class="pre">UcanBus</span></code></a><ul>
<li><a class="reference internal" href="#can.interfaces.systec.ucanbus.UcanBus.create_filter"><code class="docutils literal notranslate"><span class="pre">UcanBus.create_filter()</span></code></a></li>
<li><a class="reference internal" href="#can.interfaces.systec.ucanbus.UcanBus.flush_tx_buffer"><code class="docutils literal notranslate"><span class="pre">UcanBus.flush_tx_buffer()</span></code></a></li>
<li><a class="reference internal" href="#can.interfaces.systec.ucanbus.UcanBus.send"><code class="docutils literal notranslate"><span class="pre">UcanBus.send()</span></code></a></li>
<li><a class="reference internal" href="#can.interfaces.systec.ucanbus.UcanBus.shutdown"><code class="docutils literal notranslate"><span class="pre">UcanBus.shutdown()</span></code></a></li>
<li><a class="reference internal" href="#can.interfaces.systec.ucanbus.UcanBus.state"><code class="docutils literal notranslate"><span class="pre">UcanBus.state</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#internals">Internals</a><ul>
<li><a class="reference internal" href="#message-filtering">Message filtering</a></li>
<li><a class="reference internal" href="#periodic-tasks">Periodic tasks</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="canalystii.html"
                          title="previous chapter">CANalyst-II</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../scripts.html"
                          title="next chapter">Scripts</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/interfaces/systec.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../scripts.html" title="Scripts"
             >next</a> |</li>
        <li class="right" >
          <a href="canalystii.html" title="CANalyst-II"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">python-can 3.3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../interfaces.html" >CAN Interface Modules</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SYSTEC interface</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright .
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
  </body>
</html>